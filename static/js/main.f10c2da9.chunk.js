(this["webpackJsonpvaccine-babu"]=this["webpackJsonpvaccine-babu"]||[]).push([[0],{50:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n.n(c),s=n(8),a=n.n(s),o=(n(50),n(11)),l=n(2);var r=function(t){var e=t.locationCheck,n=t.setLocationAvailable;return Object(l.jsx)("div",{className:"locationWaiting",children:e?Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"location Denied"}),Object(l.jsx)("button",{onClick:function(){return n(!0)},children:" Self Entry"})]}):Object(l.jsx)("h1",{children:"Location Waiting"})})},d=n.p+"static/media/loader.dab66597.png";var j=function(t){var e=t.district;return Object(l.jsxs)("div",{className:"loader",children:[Object(l.jsx)("img",{src:d}),e?Object(l.jsx)("h1",{children:"Loading...."}):Object(l.jsx)("h1",{children:"Select Location from dropdown"})]})},h=n(5),b=n(97),g=n(100),u=n(102),O=n(95),m=n(98),p=n(101),x=n(96),f=n(99);var v=function(t){var e=t.info;return Object(l.jsxs)("div",{className:"infoBlock",children:[Object(l.jsx)("span",{children:e.available_capacity}),Object(l.jsx)("span",{children:e.vaccine}),Object(l.jsxs)("span",{children:["Age ",e.min_age_limit,"+"]})]})},_=Object(h.a)((function(t){return{head:{backgroundColor:t.palette.common.black,color:t.palette.common.white},body:{fontSize:14}}}))(O.a),N=Object(h.a)((function(t){return{root:{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover}}}}))(x.a),F=Object(b.a)({table:{minWidth:700}});var D=function(t){var e=t.data,n=F(),c=e.centers[0].sessions[0].date.split("-"),i=new Date(c[2],c[1]-1,c[0]);return console.log(i,"Date"),console.log(e,"Data"),Object(l.jsx)("div",{className:"infoContainer",children:Object(l.jsx)(m.a,{component:f.a,children:Object(l.jsxs)(g.a,{className:n.table,"aria-label":"customized table",children:[Object(l.jsx)(p.a,{children:Object(l.jsxs)(x.a,{children:[Object(l.jsx)(_,{children:"Name of Center"}),Object(l.jsx)(_,{align:"right",children:"".concat(i.getDate(),"-").concat(i.getMonth(),"-").concat(i.getFullYear())}),Object(l.jsx)(_,{align:"right",children:"".concat(i.getDate()+1,"-").concat(i.getMonth(),"-").concat(i.getFullYear())}),Object(l.jsx)(_,{align:"right",children:"".concat(i.getDate()+2,"-").concat(i.getMonth(),"-").concat(i.getFullYear())}),Object(l.jsx)(_,{align:"right",children:"".concat(i.getDate()+3,"-").concat(i.getMonth(),"-").concat(i.getFullYear())}),Object(l.jsx)(_,{align:"right",children:"".concat(i.getDate()+4,"-").concat(i.getMonth(),"-").concat(i.getFullYear())}),Object(l.jsx)(_,{align:"right",children:"".concat(i.getDate()+5,"-").concat(i.getMonth(),"-").concat(i.getFullYear())}),Object(l.jsx)(_,{align:"right",children:"".concat(i.getDate()+6,"-").concat(i.getMonth(),"-").concat(i.getFullYear())})]})}),Object(l.jsx)(u.a,{children:e.centers.map((function(t){return Object(l.jsxs)(N,{children:[Object(l.jsx)(_,{component:"th",scope:"row",children:t.name}),Object(l.jsx)(_,{align:"right",children:t.sessions[0]?Object(l.jsx)(v,{info:t.sessions[0]}):Object(l.jsx)(l.Fragment,{children:"NAN"})}),Object(l.jsx)(_,{align:"right",children:t.sessions[1]?Object(l.jsx)(v,{info:t.sessions[1]}):Object(l.jsx)(l.Fragment,{children:"NAN"})}),Object(l.jsx)(_,{align:"right",children:t.sessions[2]?Object(l.jsx)(v,{info:t.sessions[2]}):Object(l.jsx)(l.Fragment,{children:"NAN"})}),Object(l.jsx)(_,{align:"right",children:t.sessions[3]?Object(l.jsx)(v,{info:t.sessions[3]}):Object(l.jsx)(l.Fragment,{children:"NAN"})}),Object(l.jsx)(_,{align:"right",children:t.sessions[4]?Object(l.jsx)(v,{info:t.sessions[4]}):Object(l.jsx)(l.Fragment,{children:"NAN"})}),Object(l.jsx)(_,{align:"right",children:t.sessions[5]?Object(l.jsx)(v,{info:t.sessions[5]}):Object(l.jsx)(l.Fragment,{children:"NAN"})}),Object(l.jsx)(_,{align:"right",children:t.sessions[6]?Object(l.jsx)(v,{info:t.sessions[6]}):Object(l.jsx)(l.Fragment,{children:"NAN"})})]},t.name)}))})]})})})},S=n(105),C=n(103),k=n(104);var y=function(t){var e=t.stateList,n=Object(c.useState)([]),i=Object(o.a)(n,2),s=i[0],a=i[1],r=Object(c.useState)(""),d=Object(o.a)(r,2),h=d[0],b=d[1],g=Object(c.useState)(""),u=Object(o.a)(g,2),O=u[0],m=u[1],p=Object(c.useState)(""),x=Object(o.a)(p,2),f=x[0],v=x[1],_=Object(c.useState)(!1),N=Object(o.a)(_,2),F=N[0],y=N[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t.coords.latitude,",").concat(t.coords.longitude,"&language=en&key=AIzaSyAlELmqkRobpn26ReMLLTirp7GHsaW8vy0")).then((function(t){return t.json()})).then((function(t){console.log("location data",t),console.log("nn",t.results[0].address_components.length-3),e.states.map((function(e){e.state_name===t.results[0].address_components[t.results[0].address_components.length-3].long_name&&(console.log("state_id is ",e.state_id),b(e.state_id),fetch("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(e.state_id)).then((function(t){return t.json()})).then((function(n){console.log(n),v(n.districts),n.districts.map((function(n){n.district_name===t.results[0].address_components[t.results[0].address_components.length-4].long_name&&(m(n.district_id),console.log("district_id is ",n.district_id),console.log("district_name is ",n),fetch("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(n.district_id,"&date=05-05-2021")).then((function(t){return t.json()})).then((function(t){a(t),y(!0),console.log("Main data",n,e,t)})))}))})))}))}))})),console.log("app")}),[]),Object(l.jsxs)("div",{className:"mainContainer",children:[Object(l.jsx)(S.a,{id:"demo-simple-select-label",children:"State"}),Object(l.jsx)(C.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:function(t){var e;b(t.target.value),e=t.target.value,fetch("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(e)).then((function(t){return t.json()})).then((function(t){console.log(t),v(t.districts)}))},children:e.states.map((function(t){return Object(l.jsx)(k.a,{value:t.state_id,children:t.state_name},t.state_id)}))}),f&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(S.a,{id:"demo-simple-select-label",children:"District"}),Object(l.jsx)(C.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,onChange:function(t){var e;m(t.target.value),y(!1),e=t.target.value,fetch("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(e,"&date=05-05-2021")).then((function(t){return t.json()})).then((function(t){a(t),y(!0),console.log("Main data",t)}))},children:f.map((function(t){return Object(l.jsx)(k.a,{value:t.district_id,children:t.district_name},t.district_id)}))})]}),F?Object(l.jsx)(D,{data:s}):Object(l.jsx)(j,{district:O})]})};n(57);var A=function(){var t=Object(c.useState)(""),e=Object(o.a)(t,2),n=e[0],i=e[1],s=Object(c.useState)(!1),a=Object(o.a)(s,2),d=a[0],j=a[1],h=Object(c.useState)(!1),b=Object(o.a)(h,2),g=b[0],u=b[1];return Object(c.useEffect)((function(){fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(t){return t.json()})).then((function(t){console.log(t),i(t)})),navigator.geolocation.watchPosition((function(t){console.log("i'm tracking you!",t),j(!0),u(!0)}),(function(t){t.code===t.PERMISSION_DENIED&&console.log("you denied me :-("),j(!0)}))}),[]),Object(l.jsx)("div",{className:"app",children:g?n&&Object(l.jsx)(y,{stateList:n}):Object(l.jsx)(r,{locationCheck:d,setLocationAvailable:u})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),s(t),a(t)}))};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(A,{})}),document.getElementById("root")),L()}},[[58,1,2]]]);
//# sourceMappingURL=main.f10c2da9.chunk.js.map